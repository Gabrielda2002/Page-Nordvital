---
import iconRow from "../assets/flecha.svg?url";

import aboutusIcon from "../assets/icons_header/users.svg?url";
import headquartersIcon from "../assets/icons_header/building-community.svg?url";
import contractsIcon from "../assets/icons_header/contract.svg?url";
import statusIcon from "../assets/icons_header/coins.svg?url";
import helpIcon from "../assets/icons_header/help-octagon.svg?url";
import rightIcon from "../assets/icons_header/gavel.svg?url";
import resultIcon from "../assets/icons_header/report-analytics.svg?url";
import blogIcon from "../assets/icons_header/article.svg?url";
import educativeIcon from "../assets/icons_header/school.svg?url";
import medicalIcon from "../assets/icons_header/stethoscope.svg?url";
import closeIcon from "../assets/icons_header/x.svg?url";
---

<nav class="relative h-full">
  <!-- boton de cerrado -->
  
  <ul
  class="flex flex-col lg:flex-row lg:space-x-4 xl:space-x-8 space-y-4 lg:space-y-0 p-6 lg:p-0 w-full justify-between"
  >
  <button
    id="close_menu"
    class="lg:hidden p-2 absolute top-2 right-4 hover:bg-gray-200 rounded-md transition-colors"
  >
    <img src={closeIcon} alt="Menu" class="w-6 h-6" />
  </button>
    <li class="relative group">
      <button
        class="submenu-btn flex w-full justify-between items-center hover:text-teal-500 transition-colors mt-4"
        data-submenu="nosotros"
      >
        Nosotros <img src={iconRow} class="p-1 transition-transform duration-300 ease-in-out" alt="flecha" />
      </button>

      <ul
        class="submenu absolute max-h-0 lg:max-h-none overflow-hidden opacity-0 pointer-events-none bg-gray-50 w-full lg:w-[500px] lg:-ml-4 font-normal z-50 grid grid-cols-1 lg:grid-cols-2 gap-2 p-0 lg:p-4 rounded-md shadow-lg top-full transition-all duration-300"
        id="nosotros"
      >
        <li
          class="relative border hover:bg-gray-200 hover:text-teal-500 rounded-md transition-colors"
        >
          <a href="/aboutus/aboutus" class="flex items-center gap-2 p-3">
            <img src={aboutusIcon} alt="aboutus Icon" class="w-5 h-5" />
            Quienes somos
          </a>
        </li>
        <li
          class=" relative border hover:bg-gray-200 hover:text-teal-500 rounded-md transition-colors"
        >
          <a href="/aboutus/headquarters" class="flex items-center gap-2 p-3">
            <img src={headquartersIcon} alt="aboutus Icon" class="w-5 h-5" />
            Nuestras sedes
          </a>
        </li>
        <li
          class="relative border hover:bg-gray-200 hover:text-teal-500 rounded-md transition-colors"
        >
          <a href="/aboutus/agreement" class="flex items-center gap-2 p-3">
            <img src={contractsIcon} alt="aboutus Icon" class="w-5 h-5" />
            Convenios
          </a>
        </li>
        <li
          class="relative border hover:bg-gray-200 hover:text-teal-500 rounded-md transition-colors"
        >
          <a
            href="/aboutus/status-financiero"
            class="flex items-center gap-2 p-3"
          >
            <img src={statusIcon} alt="aboutus Icon" class="w-5 h-5" />
            Estados financieros
          </a>
        </li>
        <li
          class="relative border hover:bg-gray-200 hover:text-teal-500 rounded-md transition-colors"
        >
          <a href="/aboutus/sarlaf-sicof" class="flex items-center gap-2 p-3">
            <img src={helpIcon} alt="aboutus Icon" class="w-5 h-5" />
            Sarlaf y Sicof
          </a>
        </li>
      </ul>
    </li>

    <li>
      <a href="/services" class="hover:text-teal-500 transition-colors"
        >Servicios
      </a>
    </li>

    <li class="relative group">
      <button
        class="submenu-btn flex w-full justify-between items-start hover:text-teal-500 transition-colors"
        data-submenu="usuarios"
      >
        Usuarios <img src={iconRow} class="p-1 transition-transform duration-300 ease-in-out" alt="flecha" />
      </button>
      <ul
        id="usuarios"
        class="submenu absolute max-h-0 lg:max-h-none overflow-hidden opacity-0 pointer-events-none bg-gray-50 w-full lg:w-[500px] lg:-ml-4 font-normal z-50 grid grid-cols-1 lg:grid-cols-2 gap-2 p-0 lg:p-4 rounded-md shadow-lg top-full transition-all duration-300"
      >
        <li
          class="relative border hover:bg-gray-200 hover:text-teal-500 rounded-md transition-colors"
        >
          <a href="/users/pqrsfd" class="flex items-center gap-2 p-3">
            <img src={helpIcon} alt="help Icon" class="w-5 h-5" />
            PQRSFD
          </a>
        </li>
        <li
          class="relative border hover:bg-gray-200 hover:text-teal-500 rounded-md transition-colors"
        >
          <a href="/users/association" class="flex items-center gap-2 p-3">
            <img src={aboutusIcon} alt="users Icon" class="w-5 h-5" />
            Asociación de usuarios
          </a>
        </li>
        <li
          class="relative border hover:bg-gray-200 hover:text-teal-500 rounded-md transition-colors"
        >
          <a href="/users/rights-duties" class="flex items-center gap-2 p-3">
            <img src={rightIcon} alt="right Icon" class="w-5 h-5" />
            Derechos y deberes
          </a>
        </li>
        <li
          class="relative border hover:bg-gray-200 hover:text-teal-500 rounded-md transition-colors"
        >
          <a href="/users/blog" class="flex items-center gap-2 p-3">
            <img src={blogIcon} alt="blog Icon" class="w-5 h-5" />
            Nuestro blog
          </a>
        </li>
        <li
          class="relative border hover:bg-gray-200 hover:text-teal-500 rounded-md transition-colors"
        >
          <a href="/users/laboratorios" class="flex items-center gap-2 p-3">
            <img src={resultIcon} alt="result Icon" class="w-5 h-5" />
            Resultado laboratorio
          </a>
        </li>
        <li
          class="relative border hover:bg-gray-200 hover:text-teal-500 rounded-md transition-colors"
        >
          <a
            href="/users/medical-procedures"
            class="flex items-center gap-2 p-3"
          >
            <img src={medicalIcon} alt="medical Icon" class="w-5 h-5" />
            Procedimientos Médicos
          </a>
        </li>
        <li
          class="relative border hover:bg-gray-200 hover:text-teal-500 rounded-md transition-colors"
        >
          <a href="/users/seminar" class="flex items-center gap-2 p-3">
            <img src={educativeIcon} alt="educative Icon" class="w-5 h-5" />
            Seminario
          </a>
        </li>
      </ul>
    </li>

    <li>
      <a href="/contact-us" class="hover:text-teal-500 transition-colors"
        >Contáctenos</a
      >
    </li>
  </ul>
</nav>

<style>
  .submenu {
    transition: max-height 0.3s ease-in-out, opacity 0.3s ease-in-out;
  }
  .submenu.max-h-0 {
    max-height: 0;
    opacity: 0;
    padding: 0;
  }
  .submenu.expanded {
    max-height: 500px;
    opacity: 1;
    padding: 1rem;
  }
  
  /* Estilos para pantallas intermedias */
  @media (min-width: 1024px) and (max-width: 1530px) {
    /* Ajustes para el contenedor principal */
    nav {
      width: 100%;
    }
    
    nav > ul {
      position: relative;
      display: flex;
      justify-content: space-between;
      width: 100%;
    }
    
    /* Ajustes para botones principales */
    nav > ul > li {
      position: static;
      white-space: nowrap;
    }
    
    /* Ajustes para submenús */
    .submenu {
      position: absolute;
      width: auto !important;
      min-width: 300px;
      max-width: 450px;
      grid-template-columns: 1fr !important; /* Una columna para pantallas medianas */
    }
    
    /* Ajustar posición específica para cada submenú */
    #nosotros {
      left: 0;
      right: auto;
    }
    
    #usuarios {
      left: auto;
      right: 0;
    }
  }
  
  @media (max-width: 1024px) {
    .submenu {
      position: relative;
      max-height: 0;
      opacity: 0;
      overflow: hidden;
    }
    .submenu.expanded {
      max-height: 500px;
      opacity: 1;
    }
  }
</style>