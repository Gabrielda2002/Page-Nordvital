---
import imgGeneral from '@/assets/Imgs_carousel/slider2.webp?url';
import imgGeneral2 from '@/assets/Imgs_carousel/slider1.webp?url';
import imgGeneral3 from '@/assets/Imgs_carousel/slider3.webp?url';
import imgGeneral4 from '@/assets/Imgs_carousel/slider4.webp?url';
---

<div class="relative w-full">
  <div class="relative h-[400px] overflow-hidden">
    <div id="slides-container" class="flex transition-transform duration-500">
      <div class="w-full flex-shrink-0">
        <img src={imgGeneral} alt="Agenda tu Cita" class="w-full h-[400px] object-cover"/>
      </div>
      <div class="w-full flex-shrink-0">
        <img src={imgGeneral2} alt="Atención Dental" class="w-full h-[400px] object-cover"/>
      </div>
      <div class="w-full flex-shrink-0">
        <img src={imgGeneral3} alt="Laboratorio" class="w-full h-[400px] object-cover"/>
      </div>
      <div class="w-full flex-shrink-0">
        <img src={imgGeneral4} alt="Perfil Lípido" class="w-full h-[400px] object-cover"/>
      </div>
    </div>
  </div>

  <button id="prev" class="absolute left-4 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full shadow-lg">
    <span class="text-2xl">←</span>
  </button>
  <button id="next" class="absolute right-4 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full shadow-lg">
    <span class="text-2xl">→</span>
  </button>
</div>

<script>
  const slidesContainer = document.getElementById('slides-container');
  const prevButton = document.getElementById('prev');
  const nextButton = document.getElementById('next');
  let currentSlide = 0;
  const totalSlides = 4;

  function updateSlide() {
    if (slidesContainer) {
      slidesContainer.style.transform = `translateX(-${currentSlide * 100}%)`;
    }
  }

  prevButton?.addEventListener('click', () => {
    currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
    updateSlide();
  });

  nextButton?.addEventListener('click', () => {
    currentSlide = (currentSlide + 1) % totalSlides;
    updateSlide();
  });

  // Auto-play
  setInterval(() => {
    currentSlide = (currentSlide + 1) % totalSlides;
    updateSlide();
  }, 5000);
</script>