---
import Layout from "../layouts/Layout.astro";
import HeroSection from "@/components/common/HeroSection.astro";
import img from "@/images/Header/CONTACTO.png?url";

//icons 
import icon1 from "@/images/Contactanos/sede.svg";
import icon2 from "@/images/Contactanos/correo.svg";
import icon3 from "@/images/Contactanos/contacto.svg";
import icon4 from "@/images/Contactanos/horario.svg";
import Chat from "@/components/common/Chat.astro";
---

<Layout title="Contáctanos">
  <head>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
  </head>

  <main class="overflow-x-hidden bg-gray-100">
    <HeroSection title="Contáctenos" backgroundImage={img} />

    <div class="container mx-auto px-4 py-2">
      <div class="flex flex-col lg:flex-row gap-8">
        {/* Info Cards Section */}
        <div class="w-full lg:w-1/2">
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div
              class="p-6 bg-white rounded-lg shadow-lg border border-slate-200 hover:border-sky-300 hover:shadow-xl transition-all"
            >
              <img
                src={icon1.src}
                alt=""
                class="mb-4 h-12"
              />
              <h5 class="font-bold text-lg mb-2">Sede Administrativa</h5>
              <a
                href="https://www.google.com/maps/"
                target="_blank"
                class="text-blue-500 hover:text-blue-700"
              >
                Ubicación
              </a>
            </div>

            <div
              class="p-6 bg-white rounded-lg shadow-lg border border-slate-200 hover:border-sky-300 hover:shadow-xl transition-all"
            >
              <img
                src={icon2.src}
                alt=""
                class="mb-4 h-12"
              />
              <h5 class="font-bold text-lg mb-2">Correo Electrónico</h5>
              <a
                href="mailto:nordvitalips@gmail.com"
                class="text-blue-500 hover:text-blue-700"
              >
                nordvitalips@gmail.com
              </a>
            </div>

            <div
              class="p-6 bg-white rounded-lg shadow-lg border border-slate-200 hover:border-sky-300 hover:shadow-xl transition-all"
            >
              <img
                src={icon3.src}
                alt=""
                class="mb-4 h-12"
              />
              <h5 class="font-bold text-lg mb-2">Contacto</h5>
              <p>(+57) 3174309873</p>
            </div>

            <div
              class="p-6 bg-white rounded-lg shadow-lg border border-slate-200 hover:border-sky-300 hover:shadow-xl transition-all"
            >
              <img
                src={icon4.src}
                alt=""
                class="mb-4 h-12"
              />
              <h5 class="font-bold text-lg mb-2">Horarios De Atención</h5>
              <h6 class="font-semibold">Lunes a viernes</h6>
              <p class="mb-2">6:00 am - 6:30 pm</p>
              <h6 class="font-semibold">Sábados</h6>
              <p>8:00 am - 12:00 pm</p>
            </div>
          </div>
        </div>

        {/* Forms Section */}
        <div
          class="w-full lg:w-1/2 bg-white rounded-xl shadow-lg border border-slate-200 mb-20"
        >
          <div class="p-6 border-b">
            <div class="flex flex-col sm:flex-row gap-4">
              <button
                class="w-full sm:w-auto px-4 py-2 rounded-xl text-white bg-gray-500 hover:bg-gray-600 transition-colors"
                id="contactanos-btn"
              >
                Escribe un mensaje
              </button>
              <button
                class="w-full sm:w-auto px-4 py-2 rounded-xl text-white bg-gray-500 hover:bg-gray-600 transition-colors"
                id="escribe-mensaje-btn"
              >
                Trabaje con Nosotros
              </button>
            </div>
          </div>

          <div id="form-contacto" class="p-6">
            <form class="space-y-4" method="post" action="/sendEmail.php">
              <div class="flex flex-col sm:flex-row gap-4">
                <input
                  type="text"
                  id="validationCustom03"
                  class="w-full bg-gray-100 rounded-lg p-3"
                  placeholder="Nombres"
                  name="nombre"
                  required
                />
                <input
                  type="text"
                  id="validationCustom03"
                  class="w-full bg-gray-100 rounded-lg p-3"
                  placeholder="Apellidos"
                  name="apellidos"
                  required
                />
              </div>

              <div class="flex flex-col sm:flex-row gap-4">
                <input
                  type="email"
                  id="correo"
                  class="w-full bg-gray-100 rounded-lg p-3"
                  placeholder="Correo Electrónico"
                  name="correo"
                  required
                />
                <input
                  type="tel"
                  id="validationCustom03"
                  class="w-full bg-gray-100 rounded-lg p-3"
                  placeholder="Teléfono"
                  name="celular"
                  required
                />
              </div>

              <input
                type="text"
                id="validationCustom03"
                class="w-full bg-gray-100 rounded-lg p-3"
                placeholder="Asunto"
                name="asunto"
                required
              />

              <textarea
                class="w-full bg-gray-100 rounded-lg p-3 min-h-32"
                id="validationCustom03"
                placeholder="Escriba una descripción..."
                name="descripcion"
                required></textarea>

              <div class="flex items-start gap-2">
                <input
                  type="checkbox"
                  class="mt-1"
                  id="invalidCheck"
                  required
                />
                <label class="text-sm">
                  Al hacer clic en el botón Enviar, usted acepta la remisión de
                  la PQRD a
                  <a
                    href="/nuestras-politicas"
                    class="text-blue-500 hover:text-blue-700 ml-1"
                  >
                    Nordvital IPS
                  </a>. Autorizo expresamente a Nordvital IPS para que mis datos
                  puedan ser utilizados de acuerdo con la ley de protección de
                  datos personales, con el fin de gestionar y dar respuesta a mi
                  solicitud.
                </label>
              </div>

              <div class="text-center">
                <button
                  type="submit"
                  class="bg-sky-500 px-6 py-2 rounded-lg text-white shadow-md hover:bg-sky-600 hover:scale-105 transition-all"
                  name="enviado"
                >
                  Enviar
                </button>
              </div>
            </form>
          </div>

          <!-- Formulario de información para un puesto de trabajo -->
          <div
            id="form-puesto-trabajo"
            class="form-container hidden px-10 gap-6"
          >
            <form
              class="row g-3 needs-validation"
              method="post"
              action="\Pagina-nordvitalips\sendEmail.php"
              enctype="multipart/form-data"
            >
              <!-- Formulario de aplicación para un puesto de trabajo -->
              <div class="w-full flex mb-4 mt-4">
                <div
                  class=""
                  style="width: 50% !important;margin: 0px 5px 0px 0px;"
                >
                  <input
                    type="text"
                    class="bg-gray-100 rounded-lg p-2 w-full"
                    id="validationCustom01"
                    required
                    placeholder="Nombres"
                    name="nombre"
                  />
                  <!-- <div class="invalid-feedback">Ingrese su nombre</div> -->
                </div>
                <div
                  class=""
                  style="width: 50% !important;margin: 0px 0px 0px 5px;"
                >
                  <input
                    type="text"
                    class="bg-gray-100 rounded-lg p-2 w-full"
                    id="validationCustom02"
                    required
                    placeholder="Apellidos"
                    name="apellidos"
                  />
                  <!-- <div class="invalid-feedback">Ingrese sus apellidos</div> -->
                </div>
              </div>
              <div class="w-full flex mb-4">
                <div
                  class=""
                  style="width: 60% !important;margin: 0px 5px 0px 0px;"
                >
                  <input
                    type="email"
                    class="bg-gray-100 rounded-lg p-2 w-full"
                    id="validationCustom03"
                    required
                    placeholder="Correo Electrónico"
                    name="correo"
                  />
                  <!-- <div class="invalid-feedback"> -->
                  <!-- Ingrese un correo electrónico válido -->
                  <!-- </div> -->
                </div>
                <div
                  class=""
                  style="width: 40% !important;margin: 0px 0px 0px 5px;"
                >
                  <input
                    type="text"
                    class="bg-gray-100 rounded-lg p-2 w-full"
                    id="validationCustom04"
                    required
                    placeholder="Teléfono"
                    name="celular"
                  />
                  <!-- <div class="invalid-feedback">
                  Ingrese un número de teléfono
                </div> -->
                </div>
              </div>
              <div class="">
                <textarea
                  class="bg-gray-100 rounded-lg p-2 w-full"
                  id="validationCustom05"
                  placeholder="Escriba una descripción..."
                  required
                  name="mensaje"></textarea>
                <!-- <div class="invalid-feedback">Ingrese un mensaje</div> -->
              </div>
              <div class="form-group">
                <label for="file">Adjuntar Hoja de Vida:</label>
                <input
                  type="file"
                  class="bg-gray-100 rounded-lg p-2 w-full"
                  id="file"
                  name="cv"
                />
              </div>
              <div class="text-center mb-4 mt-5">
                <a href="#">
                  <button
                    class="bg-sky-500 px-6 py-2 rounded-lg text-white shadow-md hover:bg-sky-600 hover:scale-105 transition-all"
                    name="enviado"
                    type="submit">Enviar Solicitud</button
                  >
                </a>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </main>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const contactanosBtn = document.getElementById("contactanos-btn");
      const escribeMensajeBtn = document.getElementById("escribe-mensaje-btn");

      const formContacto = document.getElementById("form-contacto");
      const formPuestoTrabajo = document.getElementById("form-puesto-trabajo");

      // button
      const updateButtonStyles = (
        activeBtn: HTMLElement,
        inactiveBtn: HTMLElement
      ) => {
        // Activar
        activeBtn.classList.remove("bg-gray-500");
        activeBtn.classList.add("bg-sky-500");
        // Inactivar styles button
        inactiveBtn.classList.remove("bg-sky-500");
        inactiveBtn.classList.add("bg-gray-500");
      };

      // inicial
      if (
        formContacto &&
        formPuestoTrabajo &&
        contactanosBtn &&
        escribeMensajeBtn
      ) {
        formContacto.style.display = "none";
        formPuestoTrabajo.style.display = "block";
        updateButtonStyles(contactanosBtn, escribeMensajeBtn);

        // "Escribe un mensaje" button
        contactanosBtn.addEventListener("click", function () {
          formContacto.style.display = "block";
          formPuestoTrabajo.style.display = "none";
          updateButtonStyles(contactanosBtn, escribeMensajeBtn);
        });

        // "Trabaje con Nosotros" button
        escribeMensajeBtn.addEventListener("click", function () {
          formContacto.style.display = "none";
          formPuestoTrabajo.style.display = "block";
          updateButtonStyles(escribeMensajeBtn, contactanosBtn);
        });
      }
      if (escribeMensajeBtn && contactanosBtn) {
        updateButtonStyles(escribeMensajeBtn, contactanosBtn);
      }
    });
  </script>
  <Chat />
</Layout>
